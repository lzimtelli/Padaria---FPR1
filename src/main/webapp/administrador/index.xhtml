<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
  template="./template.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:h="jakarta.faces.html"
  xmlns:p="primefaces"
>
  <ui:define name="content">
    <div class="top">
      <h2 class="title">Categoria</h2>
    </div>

    <p:toolbar>
      <p:toolbarGroup>
        <p:commandButton
          value="New"
          icon="pi pi-plus"
          actionListener="#{crudView.openNew}"
          oncomplete="PF('manageProductDialog').show()"
          styleClass="ui-button-success"
          style="margin-right: 0.5rem"
        >
        </p:commandButton>
        <p:commandButton
          id="delete-products-button1"
          value="#{crudView.deleteButtonMessage}"
          icon="pi pi-pencil"
          actionListener="#{crudView.deleteSelectedProducts}"
          styleClass="ui-button-warning"
          disabled="#{!crudView.hasSelectedProducts()}"
          style="margin-right: 0.5rem"
        >
        </p:commandButton>
        <p:commandButton
          id="delete-products-button"
          value="#{crudView.deleteButtonMessage}"
          icon="pi pi-trash"
          actionListener="#{crudView.deleteSelectedProducts}"
          styleClass="ui-button-danger"
          disabled="#{!crudView.hasSelectedProducts()}"
          update="@this"
        >
          <p:confirm
            header="Confirmation"
            message="Delete the selected products?"
            icon="pi pi-exclamation-triangle"
          />
        </p:commandButton>
      </p:toolbarGroup>
    </p:toolbar>

    <div class="table ui-g">
      <div class="table-categoria ui-g-3">
        <h:form id="form1">
          <p:dataTable
            scrollable="true"
            scrollHeight="400"
            resizeMode="expand"
            size="small"
            id="categoria"
            var="categoria"
            value="#{dtContextMenuView.categoria}"
            rowKey="#{categoria.id}"
            selection="#{dtContextMenuView.selectedcategoria}"
            selectionMode="single"
            emptyMessage="No customers found with given criteria"
            filteredValue="#{dtFilterView.filteredCustomers1}"
            showGridlines="true"
          >
            <p:column
              headerText="Nome"
              sortBy="#{customer.name}"
              filterBy="#{customer.name}"
              filterMatchMode="contains"
              colspan="6"
            >
              <h:outputText value="#{product.name}" />
            </p:column>
          </p:dataTable>
        </h:form>
      </div>

      <div class="table-products ui-g-9">
        <h1>Produtos</h1>
        <h:form id="form2">
          <p:dataTable
            size="small"
            id="products"
            var="product"
            value="#{dtContextMenuView.products}"
            rowKey="#{product.id}"
            selection="#{dtContextMenuView.selectedProduct}"
            selectionMode="single"
            emptyMessage="No customers found with given criteria"
            filteredValue="#{dtFilterView.filteredCustomers1}"
            showGridlines="true"
          >
            <p:column
              headerText="Descrição"
              sortBy="#{customer.name}"
              filterBy="#{customer.name}"
              filterMatchMode="contains"
              colspan="4"
            >
              <h:outputText value="#{product.name}" />
            </p:column>
            <p:column
              headerText="Quantidade"
              sortBy="#{customer.name}"
              filterBy="#{customer.name}"
              filterMatchMode="contains"
            >
              <h:outputText value="#{product.name}" />
            </p:column>
            <p:column
              headerText="Valor Compra"
              sortBy="#{customer.name}"
              filterBy="#{customer.name}"
              filterMatchMode="contains"
            >
              <h:outputText value="#{product.name}" />
            </p:column>
            <p:column
              headerText="Valor Venda"
              sortBy="#{customer.name}"
              filterBy="#{customer.name}"
              filterMatchMode="contains"
            >
              <h:outputText value="#{product.name}" />
            </p:column>
          </p:dataTable>
        </h:form>
      </div>
    </div>
  </ui:define>
</ui:composition>
